#!/usr/bin/env bash
set -euo pipefail

function pcyall_() {
  sudo apt-get update --yes && sudo apt-get dist-upgrade --yes && sudo apt-get autoremove --purge --yes
}
export -f pcyall_

case "$1" in
  in) cmd='sudo apt-get install' ;;
  ud) cmd='sudo apt-get update' ;;
  ug) cmd='sudo apt-get dist-upgrade' ;;
  yall) cmd='pcyall_' ;;
  ar) cmd='sudo apt-get autoremove --purge' ;;
  pn) cmd='sudo apt-get purge' ;;
  um) cmd='sudo apt-mark auto' ;;
  cl) cmd='sudo apt-get clean' ;;
  cal) cmd='sudo apt-get autoclean' ;;
  sa) cmd='apt search' ;;
  sf) cmd='apt-file search' ;;
  lf) cmd='apt-file list' ;;
  why) cmd='aptitude why' ;;
  whynot) cmd='aptitude why-not' ;;
  dep) cmd='apt-cache depends' ;;
  depi) cmd='apt-cache depends --installed' ;;
  rdep) cmd='apt-cache rdepends' ;;
  rdepi) cmd='apt-cache rdepends --installed' ;;
  si) cmd='apt list --installed' ;;
  ls) cmd='apt list' ;;
  sim) cmd='apt-mark showmanual' ;;
  *) echo "Unsupported profile filter: $1" && return 1 ;;
esac

shift
${cmd} "$@"
