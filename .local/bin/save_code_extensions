#!/usr/bin/env sh

settings_file="${HOME}/.config/Code/User/settings.json"
if [ $# -ge 1 ]; then
    settings_file="$1"
fi

code --list-extensions |
    jq --null-input --raw-input '{"remote.SSH.defaultExtensions": [inputs]}' |
    jq 'add' --slurp "${settings_file}" - |
    jq --sort-keys --indent 4 |
    sponge "${settings_file}"
