#!/usr/bin/env sh

scrollback_buffer_file="$(mktemp)"
trap 'rm --f "${scrollback_buffer_file}"' EXIT

cat > "${scrollback_buffer_file}"

nvim \
  -c "set clipboard=unnamedplus nonumber laststatus=0" \
  -c "map q :qa!<CR> | map a <Nop> | map A <Nop> | map i <Nop> | map I <Nop>" \
  -c "silent terminal cat '${scrollback_buffer_file}' -"
